# Домашнее задание к занятию  "Введение в Ansible" - `Ачеусов Андрей`

### Задание 1

1. Попробуйте запустить playbook на окружении из `test.yml`, зафиксируйте значение, которое имеет факт `some_fact` для указанного хоста при выполнении playbook.

***Решение:***  

Применяем команду ansible-playbook -i inventory/test.yml site.yml:  
![image](https://github.com/AndrewAche/HW_ALL/assets/121398221/07765706-78d3-4810-b149-3e3061382a4a)


---

### Задание 1.2

2. Найдите файл с переменными (group_vars), в котором задаётся найденное в первом пункте значение, и поменяйте его на `all default fact`.

***Решение:***  

Проведена замена значения переменной в файле examp.yml:  
![image](https://github.com/AndrewAche/HW_ALL/assets/121398221/d295a104-375e-4a6b-9466-bbf51a8e5561)


---

### Задание 1.3

3. Воспользуйтесь подготовленным (используется `docker`) или создайте собственное окружение для проведения дальнейших испытаний.

***Решение:***  

Подняты 2 машины:   
![image](https://github.com/AndrewAche/HW_ALL/assets/121398221/e547e513-d9c1-4d98-aa03-812a03f01fd6)


---

### Задание 1.4

4. Проведите запуск playbook на окружении из `prod.yml`. Зафиксируйте полученные значения `some_fact` для каждого из `managed host`.

***Решение:***  

Команда: ansible-playbook -i inventory/prod.yml site.yml  
Не сработало (ошибка):  
![image](https://github.com/AndrewAche/HW_ALL/assets/121398221/566d9b54-a199-4209-be2a-7247e49a53ac)


---

### Задание 1.5

5. Добавьте факты в `group_vars` каждой из групп хостов так, чтобы для `some_fact` получились значения: для `deb` — `deb default fact`, для `el` — `el default fact`.

***Решение:***  

Достаточно переименовать значения в поле: "some_fact" файлов "examp.yml" для "deb" и "el"  

---

### Задание 1.6

6.  Повторите запуск playbook на окружении `prod.yml`. Убедитесь, что выдаются корректные значения для всех хостов.

***Решение:***  

Не могу, см. ошибку в п. 4

---

### Задание 1.7

7. При помощи `ansible-vault` зашифруйте факты в `group_vars/deb` и `group_vars/el` с паролем `netology`.

***Решение:***  



---

### Задание 1.8

8. Запустите playbook на окружении `prod.yml`. При запуске `ansible` должен запросить у вас пароль. Убедитесь в работоспособности.

***Решение:***  



---

### Задание 1.9

9. Посмотрите при помощи `ansible-doc` список плагинов для подключения. Выберите подходящий для работы на `control node`.

***Решение:***  



---

### Задание 1.10

10. В `prod.yml` добавьте новую группу хостов с именем  `local`, в ней разместите localhost с необходимым типом подключения.

***Решение:***  



---

### Задание 1.11

11. Запустите playbook на окружении `prod.yml`. При запуске `ansible` должен запросить у вас пароль. Убедитесь, что факты `some_fact` для каждого из хостов определены из верных `group_vars`.

***Решение:***  



---

### Задание 1.12

12. Заполните `README.md` ответами на вопросы. Сделайте `git push` в ветку `master`. В ответе отправьте ссылку на ваш открытый репозиторий с изменённым `playbook` и заполненным `README.md`.

***Решение:***  



---



