# Домашнее задание к занятию 06-db-06 «Troobleshooting» - `Ачеусов Андрей`

### Задание 1

В первую очередь необходимо вычеслить проблемные запросы, посредством команды:  
`db.currentOp({“secs_running”:{$gte:5}})`  
  
Затем можно остановить полученную операцию через:  
`db.killOp();`
  
Решить проблему с долгими запросами можно перестроив существующие индексы или ограничив максимальное время на выполнение запроса или увеличив память)

---


### Задание 2


Причина в том, что панять более чем на 75% забита старыми ключами, которые пока не были вычещены:  
![image](https://github.com/AndrewAche/HW_ALL/assets/121398221/65f1764d-b46e-4e53-a468-ec2c6dd76925)


---


### Задание 3

Представленная ошибка cвязана с увеличением кол-ва записей в БД, что спровоцировало рост времени на SELECT информации внутри такой таблицы. Время запроса превысило таймаут.
Возможно несколько решений представленной проблемы:  

* Самое очевидное - это увеличений мощности машины,
* Второе, также очевидное - увеличения времени таймаута запроса в конфигурации,
* А также создание индексов и вертикальное шардирование (парцирование) таблиц для оптимизации запросов к БД,
* Горизонтальное шардирование (масштабирование) таблиц, что по сути ознает рост мощностей посредством создания/расширения кластера.

---


### Задание 4



---


