# [Домашнее задание](https://github.com/netology-code/micros-homeworks/blob/main/11-microservices-02-principles.md) к занятию  "Микросервисы: принципы" - `Ачеусов Андрей`



### Задание 1. API Gateway

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- маршрутизация запросов к нужному сервису на основе конфигурации,
- возможность проверки аутентификационной информации в запросах,
- обеспечение терминации HTTPS.

Обоснуйте свой выбор.

***Ответ:***  

API Gateway является важным компонентом микросервисной архитектуры, позволяя маршрутизировать запросы к различным службам, обеспечивать безопасность и управлять трафиком.

Рассмотрим три популярных решения для API Gateway и сравним их:

1. Amazon API Gateway
2. Kong
3. Nginx

Сравнительная таблица:

|Характеристика	| Amazon API Gateway | Kong | Nginx |
|--------|--------|-------|-------|
|Маршрутизация на основе конфигурации|	Да |	Да |	Да  (с использованием модулей) |
|Проверка аутентификационной информации|	Да (поддерживает AWS IAM, Lambda, Cognito и др.)|	Да (с использованием плагинов)|	Да (с использованием модулей)|
|Терминация HTTPS|	Да|	Да|	Да|
|Расширяемость|	Ограничено AWS-сервисами|	Да (с помощью плагинов)|	Да (с помощью модулей)|
|Интеграция с облаками|	Интегрировано с AWS|Может быть развернуто в любом облаке|	Может быть развернуто в любом облаке|
|Цена|	По запросу и трафику|	Бесплатная и коммерческая версия|	Бесплатная и коммерческая версия|

На основе вышеприведенной таблицы:

- Amazon API Gateway будет логичным выбором из-за глубокой интеграции с другими AWS-сервисами.

- Kong предлагает большую гибкость и расширяемость с помощью плагинов, а также может быть развернут в любом облаке или на локальном сервере.

- Nginx - это проверенное временем решение, которое можно настроить для работы в качестве API Gateway. Он может быть не таким функциональным "из коробки" как другие решения, но с правильной конфигурацией и модулями он может выполнять большинство необходимых задач.


---


### Задание 2. Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

***Ответ:***  


| Параметр | RabbitMQ | Apache Kafka | ActiveMQ | NATS | Redis |
|:---------|:--------:|:------------:|:--------:|:----:|:-----:|
| Поддержка кластеризации для обеспечения надежности | + | + | + | + | + |
| Хранение сообщений на диске в процессе доставки | + | + | + | + | + |
| Высокая скорость работы | + - | + | - | + | + |
| Поддержка различных форматов сообщений | AMQP, MQTT, STOMP | Только binary через TCP Socket | 10 форматов, включая AMQP, AUTO, MQTT, REST | Только NATS Streaming Protocol | Только RESP |
| Разделение прав доступа к различным потокам сообщений | + | + | + | + | + |
| Простота эксплуатации | + | - | + | + | + |

Если опустить дополнительный необходимый анализ будущей нагрузки на брокера, то как универсальное решение, возможно использовать RabbitMQ - он усреднённый по всем параметрам, очень распространён, проще найти специалистов, которые с ним работали.


---

