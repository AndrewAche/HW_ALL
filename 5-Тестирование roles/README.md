# Домашнее задание к занятию  "Ansible.Тестирование roles" - `Ачеусов Андрей`

## Molecule

### Задание 1.1

1. Запустите  `molecule test -s centos_7` внутри корневой директории clickhouse-role, посмотрите на вывод команды. Данная команда может отработать с ошибками, это нормально. Наша цель - посмотреть как другие в реальном мире используют молекулу.

***Решение:***  



---

### Задание 1.2

2. Перейдите в каталог с ролью vector-role и создайте сценарий тестирования по умолчанию при помощи `molecule init scenario --driver-name docker`.

***Решение:***  



---

### Задание 1.3

3. Добавьте несколько разных дистрибутивов (centos:8, ubuntu:latest) для инстансов и протестируйте роль, исправьте найденные ошибки, если они есть.

***Решение:***  




---

### Задание 1.4

4. Добавьте несколько assert в verify.yml-файл для  проверки работоспособности vector-role (проверка, что конфиг валидный, проверка успешности запуска и др.).

***Решение:***  




---

### Задание 1.5

5. Запустите тестирование роли повторно и проверьте, что оно прошло успешно.

***Решение:***  




---

### Задание 1.6

6. Добавьте новый тег на коммит с рабочим сценарием в соответствии с семантическим версионированием.

***Решение:***  




---





## Tox

### Задание 2.1

1. Добавьте в директорию с vector-role файлы из [директории](./example).

***Решение:***  



---

### Задание 2.2

2. Запустите `docker run --privileged=True -v <path_to_repo>:/opt/vector-role -w /opt/vector-role -it aragast/netology:latest /bin/bash`, где path_to_repo — путь до корня репозитория с vector-role на вашей файловой системе.

***Решение:***  



---

### Задание 2.3

3. Внутри контейнера выполните команду `tox`, посмотрите на вывод.

***Решение:***  




---

### Задание 2.4

4. Создайте облегчённый сценарий для `molecule` с драйвером `molecule_podman`. Проверьте его на исполнимость.

***Решение:***  




---

### Задание 2.5

5. Пропишите правильную команду в `tox.ini`, чтобы запускался облегчённый сценарий.

***Решение:***  




---

### Задание 2.6

6. Запустите команду `tox`. Убедитесь, что всё отработало успешно.

***Решение:***  




---

### Задание 2.7

7. Добавьте новый тег на коммит с рабочим сценарием в соответствии с семантическим версионированием.

***Решение:***  




---
